parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KA5z":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,i=require("stream").Transform,e=require("inherits");module.exports=function(s){function r(t,e,r,a,h){i.call(this,h),this._rate=t,this._capacity=e,this._delimitedSuffix=r,this._hashBitLength=a,this._options=h,this._state=new s,this._state.initialize(t,e),this._finalized=!1}return e(r,i),r.prototype._transform=function(t,i,e){var s=null;try{this.update(t,i)}catch(r){s=r}e(s)},r.prototype._flush=function(t){var i=null;try{this.push(this.digest())}catch(e){i=e}t(i)},r.prototype.update=function(i,e){if(!t.isBuffer(i)&&"string"!=typeof i)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return t.isBuffer(i)||(i=t.from(i,e)),this._state.absorb(i),this},r.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var i=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(i=i.toString(t)),this._resetState(),i},r.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},r.prototype._clone=function(){var t=new r(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},r};
},{"safe-buffer":"Wugr","stream":"fnRj","inherits":"Bm0n"}],"VwQj":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,i=require("stream").Transform,e=require("inherits");module.exports=function(r){function s(t,e,s,a){i.call(this,a),this._rate=t,this._capacity=e,this._delimitedSuffix=s,this._options=a,this._state=new r,this._state.initialize(t,e),this._finalized=!1}return e(s,i),s.prototype._transform=function(t,i,e){var r=null;try{this.update(t,i)}catch(s){r=s}e(r)},s.prototype._flush=function(){},s.prototype._read=function(t){this.push(this.squeeze(t))},s.prototype.update=function(i,e){if(!t.isBuffer(i)&&"string"!=typeof i)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return t.isBuffer(i)||(i=t.from(i,e)),this._state.absorb(i),this},s.prototype.squeeze=function(t,i){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var e=this._state.squeeze(t);return void 0!==i&&(e=e.toString(i)),e},s.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},s.prototype._clone=function(){var t=new s(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},s};
},{"safe-buffer":"Wugr","stream":"fnRj","inherits":"Bm0n"}],"nIJC":[function(require,module,exports) {
"use strict";var e=require("./keccak"),r=require("./shake");module.exports=function(n){var a=e(n),c=r(n);return function(e,r){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new a(1152,448,null,224,r);case"keccak256":return new a(1088,512,null,256,r);case"keccak384":return new a(832,768,null,384,r);case"keccak512":return new a(576,1024,null,512,r);case"sha3-224":return new a(1152,448,6,224,r);case"sha3-256":return new a(1088,512,6,256,r);case"sha3-384":return new a(832,768,6,384,r);case"sha3-512":return new a(576,1024,6,512,r);case"shake128":return new c(1344,256,31,r);case"shake256":return new c(1088,512,31,r);default:throw new Error("Invald algorithm: "+e)}}};
},{"./keccak":"KA5z","./shake":"VwQj"}],"Z7Uk":[function(require,module,exports) {
"use strict";var r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];exports.p1600=function(a){for(var v=0;v<24;++v){var t=a[0]^a[10]^a[20]^a[30]^a[40],o=a[1]^a[11]^a[21]^a[31]^a[41],s=a[2]^a[12]^a[22]^a[32]^a[42],c=a[3]^a[13]^a[23]^a[33]^a[43],e=a[4]^a[14]^a[24]^a[34]^a[44],f=a[5]^a[15]^a[25]^a[35]^a[45],i=a[6]^a[16]^a[26]^a[36]^a[46],n=a[7]^a[17]^a[27]^a[37]^a[47],p=a[8]^a[18]^a[28]^a[38]^a[48],u=a[9]^a[19]^a[29]^a[39]^a[49],x=p^(s<<1|c>>>31),b=u^(c<<1|s>>>31),d=a[0]^x,g=a[1]^b,h=a[10]^x,j=a[11]^b,k=a[20]^x,l=a[21]^b,m=a[30]^x,q=a[31]^b,w=a[40]^x,y=a[41]^b;x=t^(e<<1|f>>>31),b=o^(f<<1|e>>>31);var z=a[2]^x,A=a[3]^b,B=a[12]^x,C=a[13]^b,D=a[22]^x,E=a[23]^b,F=a[32]^x,G=a[33]^b,H=a[42]^x,I=a[43]^b;x=s^(i<<1|n>>>31),b=c^(n<<1|i>>>31);var J=a[4]^x,K=a[5]^b,L=a[14]^x,M=a[15]^b,N=a[24]^x,O=a[25]^b,P=a[34]^x,Q=a[35]^b,R=a[44]^x,S=a[45]^b;x=e^(p<<1|u>>>31),b=f^(u<<1|p>>>31);var T=a[6]^x,U=a[7]^b,V=a[16]^x,W=a[17]^b,X=a[26]^x,Y=a[27]^b,Z=a[36]^x,$=a[37]^b,_=a[46]^x,rr=a[47]^b;x=i^(t<<1|o>>>31),b=n^(o<<1|t>>>31);var ar=a[8]^x,vr=a[9]^b,tr=a[18]^x,or=a[19]^b,sr=a[28]^x,cr=a[29]^b,er=a[38]^x,fr=a[39]^b,ir=a[48]^x,nr=a[49]^b,pr=d,ur=g,xr=j<<4|h>>>28,br=h<<4|j>>>28,dr=k<<3|l>>>29,gr=l<<3|k>>>29,hr=q<<9|m>>>23,jr=m<<9|q>>>23,kr=w<<18|y>>>14,lr=y<<18|w>>>14,mr=z<<1|A>>>31,qr=A<<1|z>>>31,wr=C<<12|B>>>20,yr=B<<12|C>>>20,zr=D<<10|E>>>22,Ar=E<<10|D>>>22,Br=G<<13|F>>>19,Cr=F<<13|G>>>19,Dr=H<<2|I>>>30,Er=I<<2|H>>>30,Fr=K<<30|J>>>2,Gr=J<<30|K>>>2,Hr=L<<6|M>>>26,Ir=M<<6|L>>>26,Jr=O<<11|N>>>21,Kr=N<<11|O>>>21,Lr=P<<15|Q>>>17,Mr=Q<<15|P>>>17,Nr=S<<29|R>>>3,Or=R<<29|S>>>3,Pr=T<<28|U>>>4,Qr=U<<28|T>>>4,Rr=W<<23|V>>>9,Sr=V<<23|W>>>9,Tr=X<<25|Y>>>7,Ur=Y<<25|X>>>7,Vr=Z<<21|$>>>11,Wr=$<<21|Z>>>11,Xr=rr<<24|_>>>8,Yr=_<<24|rr>>>8,Zr=ar<<27|vr>>>5,$r=vr<<27|ar>>>5,_r=tr<<20|or>>>12,ra=or<<20|tr>>>12,aa=cr<<7|sr>>>25,va=sr<<7|cr>>>25,ta=er<<8|fr>>>24,oa=fr<<8|er>>>24,sa=ir<<14|nr>>>18,ca=nr<<14|ir>>>18;a[0]=pr^~wr&Jr,a[1]=ur^~yr&Kr,a[10]=Pr^~_r&dr,a[11]=Qr^~ra&gr,a[20]=mr^~Hr&Tr,a[21]=qr^~Ir&Ur,a[30]=Zr^~xr&zr,a[31]=$r^~br&Ar,a[40]=Fr^~Rr&aa,a[41]=Gr^~Sr&va,a[2]=wr^~Jr&Vr,a[3]=yr^~Kr&Wr,a[12]=_r^~dr&Br,a[13]=ra^~gr&Cr,a[22]=Hr^~Tr&ta,a[23]=Ir^~Ur&oa,a[32]=xr^~zr&Lr,a[33]=br^~Ar&Mr,a[42]=Rr^~aa&hr,a[43]=Sr^~va&jr,a[4]=Jr^~Vr&sa,a[5]=Kr^~Wr&ca,a[14]=dr^~Br&Nr,a[15]=gr^~Cr&Or,a[24]=Tr^~ta&kr,a[25]=Ur^~oa&lr,a[34]=zr^~Lr&Xr,a[35]=Ar^~Mr&Yr,a[44]=aa^~hr&Dr,a[45]=va^~jr&Er,a[6]=Vr^~sa&pr,a[7]=Wr^~ca&ur,a[16]=Br^~Nr&Pr,a[17]=Cr^~Or&Qr,a[26]=ta^~kr&mr,a[27]=oa^~lr&qr,a[36]=Lr^~Xr&Zr,a[37]=Mr^~Yr&$r,a[46]=hr^~Dr&Fr,a[47]=jr^~Er&Gr,a[8]=sa^~pr&wr,a[9]=ca^~ur&yr,a[18]=Nr^~Pr&_r,a[19]=Or^~Qr&ra,a[28]=kr^~mr&Hr,a[29]=lr^~qr&Ir,a[38]=Xr^~Zr&xr,a[39]=Yr^~$r&br,a[48]=Dr^~Fr&Rr,a[49]=Er^~Gr&Sr,a[0]^=r[2*v],a[1]^=r[2*v+1]}};
},{}],"KSrb":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,s=require("./keccak-state-unroll");function i(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}i.prototype.initialize=function(t,s){for(var i=0;i<50;++i)this.state[i]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},i.prototype.absorb=function(t){for(var i=0;i<t.length;++i)this.state[~~(this.count/4)]^=t[i]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(s.p1600(this.state),this.count=0)},i.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&s.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,s.p1600(this.state),this.count=0,this.squeezing=!0},i.prototype.squeeze=function(i){this.squeezing||this.absorbLastFewBits(1);for(var e=t.alloc(i),o=0;o<i;++o)e[o]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(s.p1600(this.state),this.count=0);return e},i.prototype.copy=function(t){for(var s=0;s<50;++s)t.state[s]=this.state[s];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},module.exports=i;
},{"safe-buffer":"Wugr","./keccak-state-unroll":"Z7Uk"}],"l2NE":[function(require,module,exports) {
"use strict";module.exports=require("./lib/api")(require("./lib/keccak"));
},{"./lib/api":"nIJC","./lib/keccak":"KSrb"}],"BQcR":[function(require,module,exports) {

"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=require("keccak"),t=require("secp256k1"),f=require("assert"),o=require("rlp"),s=require("bn.js"),n=require("create-hash"),i=require("safe-buffer").Buffer;Object.assign(exports,require("ethjs-util")),exports.MAX_INTEGER=new s("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),exports.TWO_POW256=new s("10000000000000000000000000000000000000000000000000000000000000000",16),exports.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",exports.SHA3_NULL_S=exports.KECCAK256_NULL_S,exports.KECCAK256_NULL=i.from(exports.KECCAK256_NULL_S,"hex"),exports.SHA3_NULL=exports.KECCAK256_NULL,exports.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",exports.SHA3_RLP_ARRAY_S=exports.KECCAK256_RLP_ARRAY_S,exports.KECCAK256_RLP_ARRAY=i.from(exports.KECCAK256_RLP_ARRAY_S,"hex"),exports.SHA3_RLP_ARRAY=exports.KECCAK256_RLP_ARRAY,exports.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",exports.SHA3_RLP_S=exports.KECCAK256_RLP_S,exports.KECCAK256_RLP=i.from(exports.KECCAK256_RLP_S,"hex"),exports.SHA3_RLP=exports.KECCAK256_RLP,exports.BN=s,exports.rlp=o,exports.secp256k1=t,exports.zeros=function(e){return i.allocUnsafe(e).fill(0)},exports.zeroAddress=function(){var e=exports.zeros(20);return exports.bufferToHex(e)},exports.setLengthLeft=exports.setLength=function(e,r,t){var f=exports.zeros(r);return e=exports.toBuffer(e),t?e.length<r?(e.copy(f),f):e.slice(0,r):e.length<r?(e.copy(f,r-e.length),f):e.slice(-r)},exports.setLengthRight=function(e,r){return exports.setLength(e,r,!0)},exports.unpad=exports.stripZeros=function(e){for(var r=(e=exports.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},exports.toBuffer=function(e){if(!i.isBuffer(e))if(Array.isArray(e))e=i.from(e);else if("string"==typeof e)e=exports.isHexString(e)?i.from(exports.padToEven(exports.stripHexPrefix(e)),"hex"):i.from(e);else if("number"==typeof e)e=exports.intToBuffer(e);else if(null==e)e=i.allocUnsafe(0);else if(s.isBN(e))e=e.toArrayLike(i);else{if(!e.toArray)throw new Error("invalid type");e=i.from(e.toArray())}return e},exports.bufferToInt=function(e){return new s(exports.toBuffer(e)).toNumber()},exports.bufferToHex=function(e){return"0x"+(e=exports.toBuffer(e)).toString("hex")},exports.fromSigned=function(e){return new s(e).fromTwos(256)},exports.toUnsigned=function(e){return i.from(e.toTwos(256).toArray())},exports.keccak=function(e,t){return e=exports.toBuffer(e),t||(t=256),r("keccak"+t).update(e).digest()},exports.keccak256=function(e){return exports.keccak(e)},exports.sha3=exports.keccak,exports.sha256=function(e){return e=exports.toBuffer(e),n("sha256").update(e).digest()},exports.ripemd160=function(e,r){e=exports.toBuffer(e);var t=n("rmd160").update(e).digest();return!0===r?exports.setLength(t,32):t},exports.rlphash=function(e){return exports.keccak(o.encode(e))},exports.isValidPrivate=function(e){return t.privateKeyVerify(e)},exports.isValidPublic=function(e,r){return 64===e.length?t.publicKeyVerify(i.concat([i.from([4]),e])):!!r&&t.publicKeyVerify(e)},exports.pubToAddress=exports.publicToAddress=function(e,r){return e=exports.toBuffer(e),r&&64!==e.length&&(e=t.publicKeyConvert(e,!1).slice(1)),f(64===e.length),exports.keccak(e).slice(-20)};var p=exports.privateToPublic=function(e){return e=exports.toBuffer(e),t.publicKeyCreate(e,!1).slice(1)};exports.importPublic=function(e){return 64!==(e=exports.toBuffer(e)).length&&(e=t.publicKeyConvert(e,!1).slice(1)),e},exports.ecsign=function(e,r){var f=t.sign(e,r),o={};return o.r=f.signature.slice(0,32),o.s=f.signature.slice(32,64),o.v=f.recovery+27,o},exports.hashPersonalMessage=function(e){var r=exports.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return exports.keccak(i.concat([r,e]))},exports.ecrecover=function(e,r,f,o){var s=i.concat([exports.setLength(f,32),exports.setLength(o,32)],64),n=r-27;if(0!==n&&1!==n)throw new Error("Invalid signature v value");var p=t.recover(e,s,n);return t.publicKeyConvert(p,!1).slice(1)},exports.toRpcSig=function(e,r,t){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return exports.bufferToHex(i.concat([exports.setLengthLeft(r,32),exports.setLengthLeft(t,32),exports.toBuffer(e-27)]))},exports.fromRpcSig=function(e){if(65!==(e=exports.toBuffer(e)).length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},exports.privateToAddress=function(e){return exports.publicToAddress(p(e))},exports.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},exports.isZeroAddress=function(e){return exports.zeroAddress()===exports.addHexPrefix(e)},exports.toChecksumAddress=function(e){e=exports.stripHexPrefix(e).toLowerCase();for(var r=exports.keccak(e).toString("hex"),t="0x",f=0;f<e.length;f++)parseInt(r[f],16)>=8?t+=e[f].toUpperCase():t+=e[f];return t},exports.isValidChecksumAddress=function(e){return exports.isValidAddress(e)&&exports.toChecksumAddress(e)===e},exports.generateAddress=function(e,r){return e=exports.toBuffer(e),r=(r=new s(r)).isZero()?null:i.from(r.toArray()),exports.rlphash([e,r]).slice(-20)},exports.isPrecompiled=function(e){var r=exports.unpad(e);return 1===r.length&&r[0]>=1&&r[0]<=8},exports.addHexPrefix=function(e){return"string"!=typeof e?e:exports.isHexPrefixed(e)?e:"0x"+e},exports.isValidSignature=function(e,r,t,f){var o=new s("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),n=new s("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===r.length&&32===t.length&&((27===e||28===e)&&(r=new s(r),t=new s(t),!(r.isZero()||r.gt(n)||t.isZero()||t.gt(n))&&(!1!==f||1!==new s(t).cmp(o))))},exports.baToJSON=function(e){if(i.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],t=0;t<e.length;t++)r.push(exports.baToJSON(e[t]));return r}},exports.defineProperties=function(r,t,s){if(r.raw=[],r._fields=[],r.toJSON=function(e){if(e){var t={};return r._fields.forEach(function(e){t[e]="0x"+r[e].toString("hex")}),t}return exports.baToJSON(this.raw)},r.serialize=function(){return o.encode(r.raw)},t.forEach(function(e,t){function o(){return r.raw[t]}function s(o){"00"!==(o=exports.toBuffer(o)).toString("hex")||e.allowZero||(o=i.allocUnsafe(0)),e.allowLess&&e.length?(o=exports.stripZeros(o),f(e.length>=o.length,"The field "+e.name+" must not have more "+e.length+" bytes")):e.allowZero&&0===o.length||!e.length||f(e.length===o.length,"The field "+e.name+" must have byte length of "+e.length),r.raw[t]=o}r._fields.push(e.name),Object.defineProperty(r,e.name,{enumerable:!0,configurable:!0,get:o,set:s}),e.default&&(r[e.name]=e.default),e.alias&&Object.defineProperty(r,e.alias,{enumerable:!1,configurable:!0,set:s,get:o})}),s)if("string"==typeof s&&(s=i.from(exports.stripHexPrefix(s),"hex")),i.isBuffer(s)&&(s=o.decode(s)),Array.isArray(s)){if(s.length>r._fields.length)throw new Error("wrong number of fields in data");s.forEach(function(e,t){r[r._fields[t]]=exports.toBuffer(e)})}else{if("object"!==(void 0===s?"undefined":e(s)))throw new Error("invalid data");var n=Object.keys(s);t.forEach(function(e){-1!==n.indexOf(e.name)&&(r[e.name]=s[e.name]),-1!==n.indexOf(e.alias)&&(r[e.alias]=s[e.alias])})}};
},{"keccak":"l2NE","secp256k1":"jO6T","assert":"DlZn","rlp":"bL3J","bn.js":"BOxy","create-hash":"LF8r","safe-buffer":"Wugr","ethjs-util":"uDCt"}],"K2II":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var e=require("buffer").Buffer,t=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("./index-2d8aeb45.js");require("react"),require("@aragon/provided-connector"),require("events"),require("buffer"),require("./_crypto_commonjs-external-8b32930c.js");var r=require("./subscriptionManager-b429be9d.js");require("stream"),require("string_decoder"),require("crypto"),require("assert"),require("util");var o=require("./index-bc4c198a.js"),i=require("./index-acf3c274.js");const s=n.r.EventEmitter,a=r.r.inherits;var c=u;function u(){s.call(this),this.isLocked=!0}a(u,s),u.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},u.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},u.prototype.await=function(e){this.isLocked?this.once("unlock",e):setTimeout(e)};var d=function(e){var t=l(e);return t>=e.params.length?null:e.params[t]};function l(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}var h=function(){return(new Date).getTime()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3))},p=function(e){return(0,r.e)({id:h(),jsonrpc:"2.0",params:[]},e)};const f=n.r.EventEmitter,g=r.r.inherits,m=function(){};var v=y;function y(e){f.call(this),this.setMaxListeners(30),e=e||{};const t={sendAsync:this._handleAsync.bind(this)},n=e.blockTrackerProvider||t;this._blockTracker=e.blockTracker||new r.E({provider:n,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),this._ready=new c,this.currentBlock=null,this._providers=[]}g(y,f),Object.defineProperty(y,"name",{value:"HttpProvider"}),y.prototype.start=function(e=m){const t=this;t._ready.go(),t._blockTracker.on("latest",e=>{t._getBlockByNumber(e,(e,n)=>{if(e)return void this.emit("error",e);if(!n)return;const o=(i=n,{number:r.a.toBuffer(i.number),hash:r.a.toBuffer(i.hash),parentHash:r.a.toBuffer(i.parentHash),nonce:r.a.toBuffer(i.nonce),mixHash:r.a.toBuffer(i.mixHash),sha3Uncles:r.a.toBuffer(i.sha3Uncles),logsBloom:r.a.toBuffer(i.logsBloom),transactionsRoot:r.a.toBuffer(i.transactionsRoot),stateRoot:r.a.toBuffer(i.stateRoot),receiptsRoot:r.a.toBuffer(i.receiptRoot||i.receiptsRoot),miner:r.a.toBuffer(i.miner),difficulty:r.a.toBuffer(i.difficulty),totalDifficulty:r.a.toBuffer(i.totalDifficulty),size:r.a.toBuffer(i.size),extraData:r.a.toBuffer(i.extraData),gasLimit:r.a.toBuffer(i.gasLimit),gasUsed:r.a.toBuffer(i.gasUsed),timestamp:r.a.toBuffer(i.timestamp),transactions:i.transactions});var i;t._setCurrentBlock(o),t.emit("rawBlock",n),t.emit("latest",n)})}),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")},y.prototype.stop=function(){this._blockTracker.removeAllListeners(),this._running=!1,this.emit("stop")},y.prototype.isRunning=function(){return this._running},y.prototype.addProvider=function(e,t){"number"==typeof t?this._providers.splice(t,0,e):this._providers.push(e),e.setEngine(this)},y.prototype.removeProvider=function(e){const t=this._providers.indexOf(e);if(t<0)throw new Error("Provider not found.");this._providers.splice(t,1)},y.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},y.prototype.sendAsync=function(e,t){const n=this;n._ready.await(function(){Array.isArray(e)?(0,r.m)(e,n._handleAsync.bind(n),t):n._handleAsync(e,t)})},y.prototype._getBlockByNumber=function(e,t){const n=p({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(n,(e,n)=>e?t(e):t(null,n.result))},y.prototype._handleAsync=function(e,t){var n=this,o=-1,i=null,s=null,a=[];function c(n,o){s=n,i=o,(0,r.b)(a,function(e,t){e?e(s,i,t):t()},function(){var n={id:e.id,jsonrpc:e.jsonrpc,result:i};null!=s?(n.error={message:s.stack||s.message||s,code:-32e3},t(s,n)):t(null,n)})}!function t(r){if(o+=1,a.unshift(r),o>=n._providers.length)c(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{n._providers[o].handleRequest(e,t,c)}catch(e){c(e)}}()},y.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)};var w=b;function b(){}b.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",function(e){t.currentBlock=e}),e.on("start",function(){t.start()}),e.on("stop",function(){t.stop()}))},b.prototype.handleRequest=function(e,t,n){throw new Error("Subproviders should override `handleRequest`.")},b.prototype.emitPayload=function(e,t){this.engine.sendAsync(p(e),t)},b.prototype.stop=function(){},b.prototype.start=function(){};var _=class extends w{constructor(e){if(super(),!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=e}setEngine(e){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const t=e._blockTracker,n=this._constructorFn({engine:e,provider:e,blockTracker:t});if(!n)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!=typeof n)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=n}handleRequest(e,t,n){const r={id:e.id};this.middleware(e,r,function(e){t((t,n,o)=>{t?(delete r.result,r.error={message:t.message||t}):r.result=n,e?e(o):o()})},function(e){if(e)return n(e);n(null,r.result)})}},k={cacheIdentifierForPayload:function(e,t){const n=t?T(e):e.params;return E(e)?e.method+":"+(0,o.r)(n):null},canCache:E,blockTagForPayload:function(e){let t=P(e);return t>=e.params.length?null:e.params[t]},paramsWithoutBlockTag:T,blockTagParamIndex:P,cacheTypeForPayload:R};function E(e){return"never"!==R(e)}function T(e){const t=P(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function P(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function R(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}const C=[void 0,null,"<nil>"];var x=function(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const n=new B,o={perma:n,block:n,fork:n};return(0,r.k)(async(e,r,i)=>{if(e.skipCache)return i();const s=k.cacheTypeForPayload(e),a=o[s];if(!a)return i();if(!a.canCacheRequest(e))return i();let c,u=k.blockTagForPayload(e);if(u||(u="latest"),"earliest"===u)c="0x00";else if("latest"===u){const e=await t.getLatestBlock();n.clearBefore(e),c=e}else c=u;const d=await a.get(e,c);void 0===d?(await i(),await a.set(e,c,r.result)):r.result=d})};class B{constructor(){this.cache={}}getBlockCacheForPayload(e,t){const n=Number.parseInt(t,16);let r=this.cache[n];if(!r){const e={};this.cache[n]=e,r=e}return r}async get(e,t){const n=this.getBlockCacheForPayload(e,t);if(n)return n[k.cacheIdentifierForPayload(e,!0)]}async set(e,t,n){this.canCacheResult(e,n)&&(this.getBlockCacheForPayload(e,t)[k.cacheIdentifierForPayload(e,!0)]=n)}canCacheRequest(e){return!!k.canCache(e)&&"pending"!==k.blockTagForPayload(e)}canCacheResult(e,t){if(!C.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,n=Number.parseInt(e,16);Object.keys(t.cache).map(Number).filter(e=>e<n).forEach(e=>delete t.cache[e])}}var S=class extends _{constructor(e){super(({blockTracker:t})=>x(Object.assign({blockTracker:t},e)))}};const N=r.r.inherits;var A=I;function I(e){e=e||{},this.staticResponses=e}N(I,w),I.prototype.handleRequest=function(e,t,n){var r=this.staticResponses[e.method];"function"==typeof r?r(e,t,n):void 0!==r?setTimeout(()=>n(null,r)):t()};var M=class extends _{constructor(){super(({blockTracker:e,provider:t,engine:n})=>(0,r.d)({blockTracker:e,provider:t}))}},D=function(e,t,n){e.sendAsync(p({method:"eth_estimateGas",params:[t]}),function(e,t){if(e)return"no contract code at given address"===e.message?n(null,"0xcf08"):n(e);n(null,t.result)})};const O=r.r.inherits,q=/^[0-9A-Fa-f]+$/g;var L=U;function U(e){this.nonceLock=(0,r.S)(1),e.getAccounts&&(this.getAccounts=e.getAccounts),e.processTransaction&&(this.processTransaction=e.processTransaction),e.processMessage&&(this.processMessage=e.processMessage),e.processPersonalMessage&&(this.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(this.processTypedMessage=e.processTypedMessage),e.processTypedMessageV3&&(this.processTypedMessageV3=e.processTypedMessageV3),this.approveTransaction=e.approveTransaction||this.autoApprove,this.approveMessage=e.approveMessage||this.autoApprove,this.approvePersonalMessage=e.approvePersonalMessage||this.autoApprove,this.approveTypedMessage=e.approveTypedMessage||this.autoApprove,this.approveTypedMessageV3=e.approveTypedMessageV3||this.autoApprove,e.signTransaction&&(this.signTransaction=e.signTransaction||W("signTransaction")),e.signMessage&&(this.signMessage=e.signMessage||W("signMessage")),e.signPersonalMessage&&(this.signPersonalMessage=e.signPersonalMessage||W("signPersonalMessage")),e.signTypedMessage&&(this.signTypedMessage=e.signTypedMessage||W("signTypedMessage")),e.signTypedMessageV3&&(this.signTypedMessageV3=e.signTypedMessageV3||W("signTypedMessageV3")),e.recoverPersonalSignature&&(this.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(this.publishTransaction=e.publishTransaction),this.estimateGas=e.estimateGas||this.estimateGas,this.getGasPrice=e.getGasPrice||this.getGasPrice}function F(e){return e.toLowerCase()}function j(e){const t=r.a.addHexPrefix(e);return r.a.isValidAddress(t)}function H(e){const t=r.a.addHexPrefix(e);return!r.a.isValidAddress(t)&&V(e)}function V(e){return"string"==typeof e&&"0x"===e.slice(0,2)&&e.slice(2).match(q)}function W(e){return function(t,n){n(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}O(U,w),U.prototype.handleRequest=function(e,t,n){const o=this;let i,s,a,c,u;switch(o._parityRequests={},o._parityRequestCount=0,e.method){case"eth_coinbase":return void o.getAccounts(function(e,t){if(e)return n(e);let r=t[0]||null;n(null,r)});case"eth_accounts":return void o.getAccounts(function(e,t){if(e)return n(e);n(null,t)});case"eth_sendTransaction":return i=e.params[0],void(0,r.w)([e=>o.validateTransaction(i,e),e=>o.processTransaction(i,e)],n);case"eth_signTransaction":return i=e.params[0],void(0,r.w)([e=>o.validateTransaction(i,e),e=>o.processSignTransaction(i,e)],n);case"eth_sign":return H(e.params[1])&&j(e.params[0])?(u=e.params[0],c=e.params[1]):(c=e.params[0],u=e.params[1]),a=e.params[2]||{},s=(0,r.e)(a,{from:u,data:c}),void(0,r.w)([e=>o.validateMessage(s,e),e=>o.processMessage(s,e)],n);case"personal_sign":return function(){const t=e.params[0];if(H(e.params[1])&&j(t)){let t="The eth_personalSign method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),u=e.params[0],c=e.params[1]}else c=e.params[0],u=e.params[1];a=e.params[2]||{},s=(0,r.e)(a,{from:u,data:c}),(0,r.w)([e=>o.validatePersonalMessage(s,e),e=>o.processPersonalMessage(s,e)],n)}();case"personal_ecRecover":return function(){c=e.params[0];let t=e.params[1];a=e.params[2]||{},s=(0,r.e)(a,{sig:t,data:c}),o.recoverPersonalSignature(s,n)}();case"eth_signTypedData":return!j(e.params[1])&&j(e.params[0])?(u=e.params[0],c=e.params[1]):(c=e.params[0],u=e.params[1]),a=e.params[2]||{},s=(0,r.e)(a,{from:u,data:c}),void(0,r.w)([e=>o.validateTypedMessage(s,e),e=>o.processTypedMessage(s,e)],n);case"eth_signTypedData_v3":return!j(e.params[1])&&j(e.params[0])?(u=e.params[0],c=e.params[1]):(c=e.params[0],u=e.params[1]),a=e.params[2]||{},s=(0,r.e)(a,{from:u,data:c}),void(0,r.w)([e=>o.validateTypedMessageV3(s,e),e=>o.processTypedMessageV3(s,e)],n);case"parity_postTransaction":return i=e.params[0],void o.parityPostTransaction(i,n);case"parity_postSign":return u=e.params[0],c=e.params[1],void o.parityPostSign(u,c,n);case"parity_checkRequest":return function(){const t=e.params[0];o.parityCheckRequest(t,n)}();case"parity_defaultAccount":return void o.getAccounts(function(e,t){if(e)return n(e);const r=t[0]||null;n(null,r)});default:return void t()}},U.prototype.getAccounts=function(e){e(null,[])},U.prototype.processTransaction=function(e,t){const n=this;(0,r.w)([t=>n.approveTransaction(e,t),(e,t)=>n.checkApproval("transaction",e,t),t=>n.finalizeAndSubmitTx(e,t)],t)},U.prototype.processSignTransaction=function(e,t){const n=this;(0,r.w)([t=>n.approveTransaction(e,t),(e,t)=>n.checkApproval("transaction",e,t),t=>n.finalizeTx(e,t)],t)},U.prototype.processMessage=function(e,t){const n=this;(0,r.w)([t=>n.approveMessage(e,t),(e,t)=>n.checkApproval("message",e,t),t=>n.signMessage(e,t)],t)},U.prototype.processPersonalMessage=function(e,t){const n=this;(0,r.w)([t=>n.approvePersonalMessage(e,t),(e,t)=>n.checkApproval("message",e,t),t=>n.signPersonalMessage(e,t)],t)},U.prototype.processTypedMessage=function(e,t){const n=this;(0,r.w)([t=>n.approveTypedMessage(e,t),(e,t)=>n.checkApproval("message",e,t),t=>n.signTypedMessage(e,t)],t)},U.prototype.processTypedMessageV3=function(e,t){const n=this;(0,r.w)([t=>n.approveTypedMessageV3(e,t),(e,t)=>n.checkApproval("message",e,t),t=>n.signTypedMessageV3(e,t)],t)},U.prototype.autoApprove=function(e,t){t(null,!0)},U.prototype.checkApproval=function(e,t,n){n(t?null:new Error("User denied "+e+" signature."))},U.prototype.parityPostTransaction=function(e,t){const n=this,r=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sendTransaction",params:[e]},function(e,t){if(e)return void(n._parityRequests[r]={error:e});const o=t.result;n._parityRequests[r]=o}),t(null,r)},U.prototype.parityPostSign=function(e,t,n){const r=this,o=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sign",params:[e,t]},function(e,t){if(e)return void(r._parityRequests[o]={error:e});const n=t.result;r._parityRequests[o]=n}),n(null,o)},U.prototype.parityCheckRequest=function(e,t){const n=this._parityRequests[e]||null;return n?n.error?t(n.error):void t(null,n):t(null,null)},U.prototype.recoverPersonalSignature=function(e,t){let n;try{n=r.s.recoverPersonalSignature(e)}catch(e){return t(e)}t(null,n)},U.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction."));this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))})},U.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message."));this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})},U.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):V(e.data)?void this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},U.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})},U.prototype.validateTypedMessageV3=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})},U.prototype.validateSender=function(e,t){if(!e)return t(null,!1);this.getAccounts(function(n,r){if(n)return t(n);const o=-1!==r.map(F).indexOf(e.toLowerCase());t(null,o)})},U.prototype.finalizeAndSubmitTx=function(e,t){const n=this;n.nonceLock.take(function(){(0,r.w)([n.fillInTxExtras.bind(n,e),n.signTransaction.bind(n),n.publishTransaction.bind(n)],function(e,r){if(n.nonceLock.leave(),e)return t(e);t(null,r)})})},U.prototype.finalizeTx=function(e,t){const n=this;n.nonceLock.take(function(){(0,r.w)([n.fillInTxExtras.bind(n,e),n.signTransaction.bind(n)],function(r,o){if(n.nonceLock.leave(),r)return t(r);t(null,{raw:o,tx:e})})})},U.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},function(e,n){if(e)return t(e);t(null,n.result)})},U.prototype.estimateGas=function(e,t){D(this.engine,e,t)},U.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},function(t,n){if(t)return e(t);e(null,n.result)})},U.prototype.fillInTxExtras=function(e,t){const n=this,o=e.from,i={};void 0===e.gasPrice&&(i.gasPrice=n.getGasPrice.bind(n)),void 0===e.nonce&&(i.nonce=n.emitPayload.bind(n,{method:"eth_getTransactionCount",params:[o,"pending"]})),void 0===e.gas&&(i.gas=n.estimateGas.bind(n,function(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}(e))),(0,r.p)(i,function(n,o){if(n)return t(n);const i={};o.gasPrice&&(i.gasPrice=o.gasPrice),o.nonce&&(i.nonce=o.nonce.result),o.gas&&(i.gas=o.gas),t(null,(0,r.e)(e,i))})};const G=r.r.inherits,J=d;var z=$;function $(e){this.nonceCache={}}G($,w),$.prototype.handleRequest=function(t,n,o){const s=this;switch(t.method){case"eth_getTransactionCount":var a=J(t),c=t.params[0].toLowerCase(),u=s.nonceCache[c];return void("pending"===a?u?o(null,u):n(function(e,t,n){if(e)return n();void 0===s.nonceCache[c]&&(s.nonceCache[c]=t),n()}):n());case"eth_sendRawTransaction":return void n(function(n,o,a){if(n)return a();var c=t.params[0],u=(r.a.stripHexPrefix(c),e.from(r.a.stripHexPrefix(c),"hex"),new i.T(e.from(r.a.stripHexPrefix(c),"hex"))),d="0x"+u.getSenderAddress().toString("hex").toLowerCase(),l=r.a.bufferToInt(u.nonce),h=(++l).toString(16);h.length%2&&(h="0"+h),h="0x"+h,s.nonceCache[d]=h,a()});case"evm_revert":return s.nonceCache={},void n();default:return void n()}};var K=class extends _{constructor(){super(({blockTracker:e,provider:t,engine:n})=>{const{events:o,middleware:i}=(0,r.c)({blockTracker:e,provider:t});return o.on("notification",e=>n.emit("data",null,e)),i})}},X=(0,n.d)(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var n="message";t.ERR_CONNECTION_DESTROYED="ConnectionDestroyed",t.ERR_CONNECTION_TIMEOUT="ConnectionTimeout",t.ERR_NOT_IN_IFRAME="NotInIframe";var r,o={"http:":"80","https:":"443"},i=/^(https?:)?\/\/([^\/:]+)(:(\d+))?/,s={ERR_CONNECTION_DESTROYED:"ConnectionDestroyed",ERR_CONNECTION_TIMEOUT:"ConnectionTimeout",ERR_NOT_IN_IFRAME:"NotInIframe",Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},a=(r=0,function(){return++r}),c=function(){if(s.debug){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["[Penpal]"].concat(n))}},u=function(e){var t=[];return e(function(){t.forEach(function(e){e()})}),{then:function(e){t.push(e)}}},d=function(e){return{name:e.name,message:e.message,stack:e.stack}},l=function(e,t,r,o){var i=t.localName,u=t.local,d=t.remote,l=t.remoteOrigin,h=!1;c("".concat(i,": Connecting call sender")),o.then(function(){h=!0}),r.reduce(function(e,t){return e[t]=function(e){return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];if(c("".concat(i,": Sending ").concat(e,"() call")),h){var p=new Error("Unable to send ".concat(e,"() call due ")+"to destroyed connection");throw p.code="ConnectionDestroyed",p}return new s.Promise(function(t,o){var s=a();u.addEventListener(n,function r(a){if(a.source===d&&a.origin===l&&"reply"===a.data.penpal&&a.data.id===s){c("".concat(i,": Received ").concat(e,"() reply")),u.removeEventListener(n,r);var h=a.data.returnValue;a.data.returnValueIsError&&(h=function(e){var t=new Error;return Object.keys(e).forEach(function(n){return t[n]=e[n]}),t}(h)),("fulfilled"===a.data.resolution?t:o)(h)}}),d.postMessage({penpal:"call",id:s,methodName:e,args:r},l)})}}(t),e},e)},h=function(e,t,r){var o=e.localName,i=e.local,a=e.remote,u=e.remoteOrigin,l=!1;c("".concat(o,": Connecting call receiver"));var h=function(e){if(e.source===a&&e.origin===u&&"call"===e.data.penpal){var n=e.data,r=n.methodName,i=n.args,h=n.id;if(c("".concat(o,": Received ").concat(r,"() call")),r in t){var p=function(e){return function(t){if(c("".concat(o,": Sending ").concat(r,"() reply")),l)c("".concat(o,": Unable to send ").concat(r,"() reply due to destroyed connection"));else{var n={penpal:"reply",id:h,resolution:e,returnValue:t};"rejected"===e&&t instanceof Error&&(n.returnValue=d(t),n.returnValueIsError=!0);try{a.postMessage(n,u)}catch(e){throw"DataCloneError"===e.name&&a.postMessage({penpal:"reply",id:h,resolution:"rejected",returnValue:d(e),returnValueIsError:!0},u),e}}}};new s.Promise(function(e){return e(t[r].apply(t,i))}).then(p("fulfilled"),p("rejected"))}}};i.addEventListener(n,h),r.then(function(){l=!0,i.removeEventListener(n,h)})};s.connectToChild=function(e){var t,r=e.url,a=e.appendTo,d=e.methods,p=void 0===d?{}:d,f=e.timeout,g=new u(function(e){t=e}),m=window,v=document.createElement("iframe");(a||document.body).appendChild(v),g.then(function(){v.parentNode&&v.parentNode.removeChild(v)});var y=v.contentWindow||v.contentDocument.parentWindow,w=function(e){var t,n,r,s=document.location,a=i.exec(e);a?(t=a[1]?a[1]:s.protocol,n=a[2],r=a[4]):(t=s.protocol,n=s.hostname,r=s.port);var c=r&&r!==o[t]?":".concat(r):"";return"".concat(t,"//").concat(n).concat(c)}(r);return{promise:new s.Promise(function(e,o){var i;void 0!==f&&(i=setTimeout(function(){var e=new Error("Connection to child timed out after ".concat(f,"ms"));e.code="ConnectionTimeout",o(e),t()},f));var s,a,d={},b=function(t){if(t.source===y&&t.origin===w&&"handshake"===t.data.penpal){c("Parent: Received handshake, sending reply"),t.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(p)},t.origin);var n={localName:"Parent",local:m,remote:y,remoteOrigin:t.origin};a&&a();var r=new u(function(e){g.then(e),a=e});h(n,p,r),s&&s.forEach(function(e){delete d[e]}),s=t.data.methodNames,l(d,n,s,g),clearTimeout(i),e(d)}};m.addEventListener(n,b),g.then(function(){m.removeEventListener(n,b);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",o(e)}),c("Parent: Loading iframe"),v.src=r}),iframe:v,destroy:t}},s.connectToParent=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.parentOrigin,o=void 0===r?"*":r,i=t.methods,a=void 0===i?{}:i,d=t.timeout;if(window===window.top){var p=new Error("connectToParent() must be called within an iframe");throw p.code="NotInIframe",p}var f=new u(function(t){e=t}),g=window,m=g.parent;return{promise:new s.Promise(function(t,r){var i;void 0!==d&&(i=setTimeout(function(){var t=new Error("Connection to parent timed out after ".concat(d,"ms"));t.code="ConnectionTimeout",r(t),e()},d));var s=function e(r){if(("*"===o||o===r.origin)&&r.source===m&&"handshake-reply"===r.data.penpal){c("Child: Received handshake reply"),g.removeEventListener(n,e);var s={localName:"Child",local:g,remote:m,remoteOrigin:r.origin},u={};h(s,a,f),l(u,s,r.data.methodNames,f),clearTimeout(i),t(u)}};g.addEventListener(n,s),f.then(function(){g.removeEventListener(n,s);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",r(e)}),c("Child: Sending handshake"),m.postMessage({penpal:"handshake",methodNames:Object.keys(a)},o)}),destroy:e}};var p=s;t.default=p}),Y=(0,n.e)(X);function Q(e,t){var n="string"==typeof e?Object.assign({},Z[e]):e;if("object"!=typeof n)throw new Error("[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(!n.nodeUrl)throw new Error("[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(t&&!n.gasRelayHubAddress)throw new Error("[Portis] can't find default gas relay hub for "+e);return"string"!=typeof e||t||delete n.gasRelayHubAddress,n}X.ERR_NOT_IN_IFRAME,X.ERR_CONNECTION_TIMEOUT,X.ERR_CONNECTION_DESTROYED;var Z={mainnet:{nodeUrl:"https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"1",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},ropsten:{nodeUrl:"https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"3",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},rinkeby:{nodeUrl:"https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"4",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},goerli:{nodeUrl:"https://goerli.prylabs.net",chainId:"5"},ubiq:{nodeUrl:"https://rpc1.ubiqscan.io",chainId:"8"},thundercoreTestnet:{nodeUrl:"https://testnet-rpc.thundercore.com:8544",chainId:"18"},orchid:{nodeUrl:"https://public-node.rsk.co",chainId:"30"},orchidTestnet:{nodeUrl:"https://public-node.testnet.rsk.co",chainId:"31"},kovan:{nodeUrl:"https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0",chainId:"42",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},classic:{nodeUrl:"https://ethereumclassic.network",chainId:"61"},sokol:{nodeUrl:"https://sokol.poa.network",chainId:"77"},core:{nodeUrl:"https://core.poa.network",chainId:"99"},xdai:{nodeUrl:"https://dai.poa.network",chainId:"100",gasRelayHubAddress:"0xD216153c06E857cD7f72665E0aF1d7D82172F494"},thundercore:{nodeUrl:"https://mainnet-rpc.thundercore.com",chainId:"108"},fuse:{nodeUrl:"https://rpc.fusenet.io",chainId:"122"},lightstreams:{nodeUrl:"https://node.mainnet.lightstreams.io",chainId:"163"},maticAlpha:{nodeUrl:"https://alpha.ethereum.matic.network",chainId:"4626"},maticTestnet:{nodeUrl:"https://testnet2.matic.network",chainId:"8995"}},ee=window&&window.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},te=window&&window.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ne=require("ethereumjs-util"),re=ne.addHexPrefix,oe=ne.stripHexPrefix,ie=ne.BN;function se(e,t){return ee(this,void 0,void 0,function(){var n,r,o,i,s;return te(this,function(a){switch(a.label){case 0:return[4,e.getBlockByNumber("latest",!1)];case 1:return n=a.sent(),[4,ae(e,t,n.gasLimit)];case 2:if(r=a.sent(),o=r.safeGas,i=r.simpleSend,s=r.gasLimitSpecified,i||s)return[2,o];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,ce(e,t,n.gasLimit,o)];case 4:return[2,a.sent()];case 5:return a.sent(),[2,o];case 6:return[2]}})})}function ae(e,t,n){return ee(this,void 0,void 0,function(){var r,o;return te(this,function(i){switch(i.label){case 0:return Boolean(t.gas)?[2,{safeGas:t.gas,simpleSend:!1,gasLimitSpecified:!0}]:(r=t.to,Boolean(r)?[4,e.getCode(r)]:[3,2]);case 1:if(!(o=i.sent())||"0x"===o||"0x0"===o){if(t.data)throw new Error("Trying to call a function on a non-contract address");return[2,{safeGas:"0x5208",simpleSend:!0,gasLimitSpecified:!1}]}i.label=2;case 2:return s=de(n),20,a=new ie(19),c=new ie(20),[2,{safeGas:le(s.mul(a).div(c)),simpleSend:!1,gasLimitSpecified:!1}]}var s,a,c})})}function ce(e,t,n,r){return ee(this,void 0,void 0,function(){var o;return te(this,function(i){switch(i.label){case 0:return t.gas=r,o=re,[4,e.estimateGas(t)];case 1:return[2,ue(o.apply(void 0,[i.sent()]),n)]}})})}function ue(e,t){var n=de(e),r=de(t).muln(.9),o=n.muln(1.5);return n.gt(r)?le(n):o.lt(r)?le(o):le(r)}function de(e){return new ie(oe(e),16)}function le(e){return re(e.toString(16))}var he=function(){function e(e){this.provider=e}return e.prototype.getBlockByNumber=function(e,t){return this.sendAsync("eth_getBlockByNumber",e,t)},e.prototype.getCode=function(e,t){return void 0===t&&(t="latest"),this.sendAsync("eth_getCode",e,t)},e.prototype.estimateGas=function(e){return this.sendAsync("eth_estimateGas",e)},e.prototype.sendAsync=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Promise(function(r,o){t.provider.sendAsync({id:42,jsonrpc:"2.0",method:e,params:n},function(e,t){e?o(e):r(t.result)})})},e}(),pe=!1;function fe(){return new Promise(function(e){pe?e():["loaded","interactive","complete"].indexOf(document.readyState)>-1?(pe=!0,e()):window.addEventListener("load",function(){pe=!0,e()},!1)})}var ge={Blockchain:class{constructor(e,t){this.name=e,this.netID=t}toJSON(){return JSON.parse('{ "name":"'+this.name+'", "netID":"'+this.netID+'"}')}}},me=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},ve=Object.prototype.toString;function ye(e){return"[object Array]"===ve.call(e)}function we(e){return null!==e&&"object"==typeof e}function be(e){return"[object Function]"===ve.call(e)}function _e(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ye(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var ke={isArray:ye,isArrayBuffer:function(e){return"[object ArrayBuffer]"===ve.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:we,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===ve.call(e)},isFile:function(e){return"[object File]"===ve.call(e)},isBlob:function(e){return"[object Blob]"===ve.call(e)},isFunction:be,isStream:function(e){return we(e)&&be(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:_e,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)_e(arguments[r],n);return t},extend:function(e,t,n){return _e(t,function(t,r){e[r]=n&&"function"==typeof t?me(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},Ee=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}(new Error(e),t,n,r,o)};function Te(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Pe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Re=ke.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=ke.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Ce=ke.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),ke.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ke.isString(r)&&s.push("path="+r),ke.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},xe=function(e){return new Promise(function(t,n){var r=e.data,o=e.headers;ke.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",a=e.auth.password||"";o.Authorization="Basic "+btoa(s+":"+a)}if(i.open(e.method.toUpperCase(),function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(ke.isURLSearchParams(t))r=t.toString();else{var o=[];ke.forEach(t,function(e,t){null!=e&&(ke.isArray(e)?t+="[]":e=[e],ke.forEach(e,function(e){ke.isDate(e)?e=e.toISOString():ke.isObject(e)&&(e=JSON.stringify(e)),o.push(Te(t)+"="+Te(e))}))}),r=o.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,s,a,c,u="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),c={},r?(ke.forEach(r.split("\n"),function(e){if(a=e.indexOf(":"),o=ke.trim(e.substr(0,a)).toLowerCase(),s=ke.trim(e.substr(a+1)),o){if(c[o]&&Pe.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([s]):c[o]?c[o]+", "+s:s}}),c):c):null,d={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:u,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Ee("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,d),i=null}},i.onerror=function(){n(Ee("Network Error",e,null,i)),i=null},i.ontimeout=function(){n(Ee("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},ke.isStandardBrowserEnv()){var c=Ce,u=(e.withCredentials||Re(e.url))&&e.xsrfCookieName?c.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}if("setRequestHeader"in i&&ke.forEach(o,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)}),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){i&&(i.abort(),n(e),i=null)}),void 0===r&&(r=null),i.send(r)})},Be={"Content-Type":"application/x-www-form-urlencoded"};function Se(e,t){!ke.isUndefined(e)&&ke.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Ne,Ae={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(Ne=xe),Ne),transformRequest:[function(e,t){return function(e,t){ke.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}(t,"Content-Type"),ke.isFormData(e)||ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e)?e:ke.isArrayBufferView(e)?e.buffer:ke.isURLSearchParams(e)?(Se(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ke.isObject(e)?(Se(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ke.forEach(["delete","get","head"],function(e){Ae.headers[e]={}}),ke.forEach(["post","put","patch"],function(e){Ae.headers[e]=ke.merge(Be)});var Ie=Ae;function Me(){this.handlers=[]}Me.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Me.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Me.prototype.forEach=function(e){ke.forEach(this.handlers,function(t){null!==t&&e(t)})};var De=Me,Oe=function(e,t,n){return ke.forEach(n,function(n){e=n(e,t)}),e},qe=function(e){return!(!e||!e.__CANCEL__)};function Le(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Ue=function(e){var t,n,r;return Le(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=Oe(e.data,e.headers,e.transformRequest),e.headers=ke.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),ke.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||Ie.adapter)(e).then(function(t){return Le(e),t.data=Oe(t.data,t.headers,e.transformResponse),t},function(t){return qe(t)||(Le(e),t&&t.response&&(t.response.data=Oe(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})};function Fe(e){this.defaults=e,this.interceptors={request:new De,response:new De}}Fe.prototype.request=function(e){"string"==typeof e&&(e=ke.merge({url:arguments[0]},arguments[1])),(e=ke.merge(Ie,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[Ue,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},ke.forEach(["delete","get","head","options"],function(e){Fe.prototype[e]=function(t,n){return this.request(ke.merge(n||{},{method:e,url:t}))}}),ke.forEach(["post","put","patch"],function(e){Fe.prototype[e]=function(t,n,r){return this.request(ke.merge(r||{},{method:e,url:t,data:n}))}});var je=Fe;function He(e){this.message=e}He.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},He.prototype.__CANCEL__=!0;var Ve=He;function We(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new Ve(e),t(n.reason))})}We.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},We.source=function(){var e;return{token:new We(function(t){e=t}),cancel:e}};var Ge=We;function Je(e){var t=new je(e),n=me(je.prototype.request,t);return ke.extend(n,je.prototype,t),ke.extend(n,t),n}var ze=Je(Ie);ze.Axios=je,ze.create=function(e){return Je(ke.merge(Ie,e))},ze.Cancel=Ve,ze.CancelToken=Ge,ze.isCancel=qe,ze.all=function(e){return Promise.all(e)},ze.spread=function(e){return function(t){return e.apply(null,t)}};var $e=ze,Ke=ze;$e.default=Ke;var Xe=$e,Ye="https://dispatch.pokt.network",Qe="/v1/dispatch",Ze="/v1/report",et="/v1/relay/",tt={Node:class{constructor(e,t,n){this.network=e,this.netID=t;var r=n.split(":");this.ip=r[0],this.port=r[1],n.includes("https://")||n.includes("http://")?this.ipPort=n:"443"===this.port||443===this.port?this.ipPort="https://"+n:this.ipPort="http://"+n}isValid(){for(var e in this)if(!this.hasOwnProperty(e)||""==this[e])return!1;return!0}isEqual(e,t){return this.netID==e.toString()&&this.network==t.toString()}async sendRelay(e,t){try{const o=Xe.create({baseURL:this.ipPort,timeout:e.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}});var n=await o.post(et,e.toJSON());if(200==n.status&&null!=n.data){var r=n.data;return t?void t(r,null):r}return t?void t(null,new Error("Failed to send relay with error: "+n.data)):new Error("Failed to send relay with error: "+n.data)}catch(e){return t?void t(null,new Error("Failed to send relay with error: "+e)):new Error("Failed to send relay with error: "+e)}}}};const nt=tt.Node;var rt={Dispatch:class{constructor(e){this.configuration=e,this.axiosInstance=Xe.create({baseURL:Ye,path:Qe,timeout:this.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}})}blockchainsJSON(){var e=[];return this.configuration.blockchains.forEach(t=>{e.push(t)}),e}async retrieveServiceNodes(e){try{var t;if(null!=(t=await this.axiosInstance.post(Qe,{DevID:this.configuration.devID,Blockchains:this.blockchainsJSON()}))&&200==t.status&&null!=t.data){var n=this.parseDispatchResponse(t.data);return e?void e(n,null):n}return e?void e(null,new Error("Failed to retrieve service nodes with error: "+t.data)):new Error("Failed to retrieve service nodes with error: "+t.data)}catch(t){return e?void e(null,new Error("Failed to retrieve service nodes with error: "+t)):new Error("Failed to retrieve service nodes with error: "+t)}}parseDispatchResponse(e){try{var t=[];if(Array.isArray(e))e.forEach(e=>{var n=e.name,r=e.netid;e.ips&&e.ips.forEach(e=>{var o=new nt(n,r,e);t.push(o)})});else{var n=e.name,r=e.netid;e.ips&&e.ips.forEach(e=>{var o=new nt(n,r,e);t.push(o)})}return t}catch(e){return new Error("Failed to parsed service nodes with error: "+e)}}}},ot={Relay:class{constructor(e,t,n,r){this.blockchain=e,this.netID=t,this.data=n,this.configuration=r}toJSON(){return{Blockchain:this.blockchain,NetID:this.netID,Data:this.data,DevID:this.configuration.devID}}isValid(){for(var e in this)if(!this.hasOwnProperty(e)||""==this[e])return!1;return!0}}},it={Report:class{constructor(e,t,n){this.ip=e,this.message=t,this.configuration=n}toJSON(){return{IP:this.ip,Message:this.message}}isValid(){for(var e in this)if(!this.hasOwnProperty(e)||""==this[e])return!1;return!0}async send(e){const t=Xe.create({baseURL:Ye,timeout:this.configuration.requestTimeOut,headers:{"Content-Type":"application/json"}});var n=await t.post(Ze,this.toJSON());return 200==n.status&&null!=n.data?e?void e(null,n.data):n.data:e?void e(new Error("Failed to send report with error: "+n.data)):new Error("Failed to send report with error: "+n.data)}}},st={Wallet:class{constructor(e,t,n,r,o){this.address=e,this.privateKey=t,this.network=n,this.networkID=r,this.data=o}}},at=(0,n.d)(function(e){e.exports=Object.assign(e.exports,ge,rt,tt,ot,it,st)});const ct=at.Blockchain,ut=at.Dispatch,dt=at.Relay,lt=at.Report;class ht{constructor(e,t,n,r){this.devID=e,this.blockchains=t,this.maxNodes=n||5,this.nodes=[],this.requestTimeOut=r||1e4,this.dispatch=null}nodesIsEmpty(){return null==this.nodes||0==this.nodes.length}}var pt={Pocket:class{constructor(e){var t=[];if(null==e.devID||null==e.networkName||null==e.netIDs)return new Error("Invalid number of arguments");if(Array.isArray(e.netIDs))e.netIDs.forEach(n=>{var r=new ct(e.networkName,n);t.push(r.toJSON())});else{var n=new ct(e.networkName,e.netIDs);t.push(n.toJSON())}this.configuration=new ht(e.devID,t,e.maxNodes||5,e.requestTimeOut||1e4)}createRelay(e,t,n){return new dt(e,t,"string"==typeof n?n:JSON.stringify(n),this.configuration)}createReport(e,t){return new lt(e,t,this.configuration)}getDispatch(){return null==this.dispatch&&(this.dispatch=new ut(this.configuration)),this.dispatch}async getNode(e,t){try{var n=[];if(this.configuration.nodesIsEmpty()){var r=await this.retrieveNodes();if(r instanceof Error==1)throw r;this.configuration.nodes=r}return this.configuration.nodes.forEach(r=>{r.isEqual(e,t)&&n.push(r)}),n.length<=0?null:n[Math.floor(Math.random()*n.length)]}catch(e){return null}}async sendReport(e,t){try{if(null==e)throw new Error("Report is null");if(!e.isValid())throw new Error("One or more Report properties are empty.");var n=await e.send();return n instanceof Error==0?t?void t(null,n):n:t?void t(n):n}catch(e){return t?void t(e):e}}async sendRelay(e,t){try{if(null==e||null==e.data)return t?void t(new Error("Relay is null or data field is missing")):new Error("Relay is null or data field is missing");if(!e.isValid())return t?void t(new Error("Relay is missing a property, please verify all properties.")):new Error("Relay is missing a property, please verify all properties.");var n=await this.getNode(e.netID,e.blockchain);if(null==n)return t?void t(new Error("Node is empty.")):new Error("Node is empty.");var r=await n.sendRelay(e);return r instanceof Error==0?t?void t(null,r):r:t?void t(r):r}catch(e){return t?void t(new Error("Failed to send relay with error: "+e)):new Error("Failed to send relay with error: "+e)}}async retrieveNodes(e){try{var t=this.getDispatch(),n=await t.retrieveServiceNodes();return n instanceof Error==0&&0!=n.length?(this.configuration.nodes=n,e?void e(null,n):n):e?void e(new Error("Failed to retrieve a list of nodes."),null):new Error("Failed to retrieve a list of nodes.")}catch(t){return e?void e(new Error("Failed to retrieve a list of nodes with error: "+t),null):new Error("Failed to retrieve a list of nodes with error: "+t)}}},Wallet:at.Wallet,Relay:at.Relay},ft=window&&window.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},gt=window&&window.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},mt=["email","reputation"],vt=document.createElement("iframe");vt.style.width="0",vt.style.height="0",vt.style.border="none",vt.style.position="absolute",vt.style.top="-999px",vt.style.left="-999px",vt.src="https://widget.portis.io",fe().then(function(){document.body.appendChild(vt)});var yt=function(){function e(e,t,n){void 0===n&&(n={}),this._widgetUrl="https://widget.portis.io",function(){var e="localhost"===location.hostname||"127.0.0.1"===location.hostname,t="https:"===location.protocol;if(!e&&!t)throw"[Portis] Access to the WebCrypto API is restricted to secure origins.\nIf this is a development environment please use http://localhost:"+location.port+" instead.\nOtherwise, please use an SSL certificate."}(),this._valiadateParams(e,t,n),this.config={dappId:e,network:Q(t,n.gasRelay),version:"2.0.0-beta.54",scope:n.scope,registerPageByDefault:n.registerPageByDefault},this.widget=this._initWidget(),this.provider=this._initProvider(n)}return e.prototype.changeNetwork=function(e,t){var n=Q(e,t);this.clearSubprovider(z),this.clearSubprovider(S),this.config.network=n},e.prototype.setDefaultEmail=function(e){this.config.defaultEmail=e},e.prototype.showPortis=function(){return ft(this,void 0,void 0,function(){return gt(this,function(e){switch(e.label){case 0:return[4,this.widget];case 1:return[2,e.sent().communication.showPortis(this.config)]}})})},e.prototype.logout=function(){return ft(this,void 0,void 0,function(){return gt(this,function(e){switch(e.label){case 0:return[4,this.widget];case 1:return[2,e.sent().communication.logout()]}})})},e.prototype.onLogin=function(e){this._onLoginCallback=e},e.prototype.onLogout=function(e){this._onLogoutCallback=e},e.prototype.onActiveWalletChanged=function(e){this._onActiveWalletChangedCallback=e},e.prototype.onError=function(e){this._onErrorCallback=e},e.prototype.getExtendedPublicKey=function(e,t){return void 0===e&&(e="m/44'/60'/0'/0/0"),void 0===t&&(t="Ethereum"),ft(this,void 0,void 0,function(){return gt(this,function(n){switch(n.label){case 0:return[4,this.widget];case 1:return[2,n.sent().communication.getExtendedPublicKey(e,t,this.config)]}})})},e.prototype.importWallet=function(e){return ft(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.importWallet(e,this.config)]}})})},e.prototype.isLoggedIn=function(){return ft(this,void 0,void 0,function(){return gt(this,function(e){switch(e.label){case 0:return[4,this.widget];case 1:return[2,e.sent().communication.isLoggedIn()]}})})},e.prototype.signBitcoinTransaction=function(e){return ft(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.signBitcoinTransaction(e,this.config)]}})})},e.prototype.showBitcoinWallet=function(e){return void 0===e&&(e="m/49'/0'/0'/0/0"),ft(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return[2,t.sent().communication.showBitcoinWallet(e,this.config)]}})})},e.prototype._valiadateParams=function(e,t,n){if(!e)throw new Error("[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io");if(!t)throw new Error("[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network");if(n.scope){if(!Array.isArray(n.scope))throw new Error("[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope");if(n.scope.filter(function(e){return mt.indexOf(e)<0}).length>0)throw new Error("[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope")}if(void 0!==n.registerPageByDefault&&"boolean"!=typeof n.registerPageByDefault)throw new Error("[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault")},e.prototype._initWidget=function(){return ft(this,void 0,void 0,function(){var e,t,n,r,o;return gt(this,function(i){switch(i.label){case 0:return[4,fe()];case 1:return i.sent(),document.body.contains(vt)&&document.body.removeChild(vt),(e=document.createElement("style")).innerHTML="\n.por_portis-container {\n  position: fixed;\n  width: 0px;\n  height: 0px;\n  top: 0px;\n  right: 0px;\n  z-index: 2147483647;\n}\n\n@media (max-width: 576px) {\n  .por_portis-container {\n    bottom: 0;\n    top: auto;\n  }\n}\n\n.por_portis-widget-frame {\n  position: fixed;\n  width: 375px;\n  height: 0;\n  top: 20px;\n  right: 20px;\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\n  border-radius: 8px;\n  overflow: hidden;\n  z-index: 2147483000;\n}\n\n@media (max-width: 576px) {\n  .por_portis-widget-frame {\n    bottom: 0;\n    top: auto;\n    width: 100%;\n    right: 0;\n    left: 0;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n}\n",(t=document.createElement("div")).className="por_portis-container",(n=document.createElement("div")).id="portis-container-"+Date.now(),n.className="por_portis-widget-frame",t.appendChild(n),document.body.appendChild(t),document.head.appendChild(e),(r=Y.connectToChild({url:this._widgetUrl,appendTo:document.getElementById(n.id),methods:{setHeight:this._setHeight.bind(this),getWindowSize:this._getWindowSize.bind(this),onLogin:this._onLogin.bind(this),onLogout:this._onLogout.bind(this),onActiveWalletChanged:this._onActiveWalletChanged.bind(this),onError:this._onError.bind(this)}})).iframe.style.position="absolute",r.iframe.style.height="100%",r.iframe.style.width="100%",r.iframe.style.border="0 transparent",[4,r.promise];case 2:return(o=i.sent()).retrieveSession(this.config),[2,{communication:o,iframe:r.iframe,widgetFrame:n}]}})})},e.prototype._initProvider=function(e){var t=this,n=new v,r=new he(n);if(n.send=function(e,r){if("string"==typeof e)return new Promise(function(t,o){n.sendAsync({jsonrpc:"2.0",id:42,method:e,params:r||[]},function(e,n){e?o(e):t(n.result)})});if(!r){var o=null;switch(e.method){case"eth_accounts":case"eth_coinbase":o=t._selectedAddress?[t._selectedAddress]:[];break;case"net_version":o=t._network;break;case"eth_uninstallFilter":n.sendAsync(e,function(e){return e}),o=!0;break;default:var i="The Portis Web3 object does not support synchronous methods like "+e.method+" without a callback parameter.";throw new Error(i)}return{id:e.id,jsonrpc:e.jsonrpc,result:o}}n.sendAsync(e,r)},n.addProvider(new A({web3_clientVersion:"Portis/v"+this.config.version+"/javascript",net_listening:!0,eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0})),n.addProvider(new S),n.addProvider(new K),n.addProvider(new M),n.addProvider(new z),n.addProvider({setEngine:function(e){return e},handleRequest:function(e,n,r){return ft(t,void 0,void 0,function(){return gt(this,function(t){return e.id||(e.id=42),n(),[2]})})}}),n.addProvider(new L({getAccounts:function(e){return ft(t,void 0,void 0,function(){var t,n,r;return gt(this,function(o){switch(o.label){case 0:return[4,this.widget];case 1:return[4,o.sent().communication.getAccounts(this.config)];case 2:return t=o.sent(),n=t.error,r=t.result,!n&&r&&(this._selectedAddress=r[0]),e(n,r),[2]}})})},signTransaction:function(e,n){return ft(t,void 0,void 0,function(){var t,r,o;return gt(this,function(i){switch(i.label){case 0:return[4,this.widget];case 1:return[4,i.sent().communication.signTransaction(e,this.config)];case 2:return t=i.sent(),r=t.error,o=t.result,n(r,o),[2]}})})},signMessage:function(e,n){return ft(t,void 0,void 0,function(){var t,r,o,i,s;return gt(this,function(a){switch(a.label){case 0:return[4,this.widget];case 1:return t=a.sent().communication,r=Object.assign({},e,{messageStandard:"signMessage"}),[4,t.signMessage(r,this.config)];case 2:return o=a.sent(),i=o.error,s=o.result,n(i,s),[2]}})})},signPersonalMessage:function(e,n){return ft(t,void 0,void 0,function(){var t,r,o,i,s;return gt(this,function(a){switch(a.label){case 0:return[4,this.widget];case 1:return t=a.sent().communication,r=Object.assign({},e,{messageStandard:"signPersonalMessage"}),[4,t.signMessage(r,this.config)];case 2:return o=a.sent(),i=o.error,s=o.result,n(i,s),[2]}})})},signTypedMessage:function(e,n){return ft(t,void 0,void 0,function(){var t,r,o,i,s;return gt(this,function(a){switch(a.label){case 0:return[4,this.widget];case 1:return t=a.sent().communication,r=Object.assign({},e,{messageStandard:"signTypedMessage"}),[4,t.signMessage(r,this.config)];case 2:return o=a.sent(),i=o.error,s=o.result,n(i,s),[2]}})})},signTypedMessageV3:function(e,n){return ft(t,void 0,void 0,function(){var t,r,o,i,s;return gt(this,function(a){switch(a.label){case 0:return[4,this.widget];case 1:return t=a.sent().communication,r=Object.assign({},e,{messageStandard:"signTypedMessageV3"}),[4,t.signMessage(r,this.config)];case 2:return o=a.sent(),i=o.error,s=o.result,n(i,s),[2]}})})},estimateGas:function(e,n){return ft(t,void 0,void 0,function(){var t;return gt(this,function(o){switch(o.label){case 0:return[4,se(r,e)];case 1:return t=o.sent(),n(null,t),[2]}})})},getGasPrice:function(e){return ft(t,void 0,void 0,function(){return gt(this,function(t){return e(null,""),[2]})})}})),e.pocketDevId){var o=new pt.Pocket({devID:e.pocketDevId,networkName:"ETH",netIDs:[this.config.network.chainId]});n.addProvider({setEngine:function(e){return e},handleRequest:function(e,r,i){return ft(t,void 0,void 0,function(){var t,r,s;return gt(this,function(a){switch(a.label){case 0:return[4,o.sendRelay(new pt.Relay("ETH",this.config.network.chainId,JSON.stringify(e),o.configuration))];case 1:if((t=a.sent())instanceof Error||!t)s=t||new Error("Unknown error"),r=null;else try{r=JSON.parse(t).result,s=null}catch(e){r=null,s=e}return"net_version"===e.method&&(this._network=r,n.networkVersion=this._network),i(s,r),[2]}})})}})}else n.addProvider({setEngine:function(e){return e},handleRequest:function(e,r,o){return ft(t,void 0,void 0,function(){var t,r,i;return gt(this,function(s){switch(s.label){case 0:return[4,this.widget];case 1:return[4,s.sent().communication.relay(e,this.config)];case 2:return t=s.sent(),r=t.error,i=t.result,"net_version"===e.method&&(this._network=i,n.networkVersion=this._network),o(r,i),[2]}})})}});return n.enable=function(){return new Promise(function(e,t){n.sendAsync({method:"eth_accounts"},function(n,r){n?t(n):e(r.result)})})},n.isConnected=function(){return!0},n.isPortis=!0,n.on("error",function(e){e&&e.message&&e.message.includes("PollingBlockTracker")?console.warn("If you see this warning constantly, there might be an error with your RPC node."):console.error(e)}),n.start(),n},e.prototype._setHeight=function(e){return ft(this,void 0,void 0,function(){return gt(this,function(t){switch(t.label){case 0:return[4,this.widget];case 1:return t.sent().widgetFrame.style.height=e+"px",[2]}})})},e.prototype._getWindowSize=function(){var e=document.getElementsByTagName("body")[0];return{width:window.innerWidth||document.documentElement.clientWidth||e.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||e.clientHeight}},e.prototype._onLogin=function(e,t,n){this._onLoginCallback&&this._onLoginCallback(e,t,n)},e.prototype._onLogout=function(){this._selectedAddress="",this._onLogoutCallback&&this._onLogoutCallback()},e.prototype._onActiveWalletChanged=function(e){this._onActiveWalletChangedCallback&&this._onActiveWalletChangedCallback(e)},e.prototype._onError=function(e){this._onErrorCallback&&this._onErrorCallback(e)},e.prototype.clearSubprovider=function(e){var t=this.provider._providers.find(function(t){return t instanceof e});this.provider.removeProvider(t),this.provider.addProvider(new e)},e}(),wt=yt;exports.default=wt;
},{"./index-2d8aeb45.js":"RlNH","react":"n8MK","@aragon/provided-connector":"c012","events":"FRpO","buffer":"peL6","./_crypto_commonjs-external-8b32930c.js":"sML5","./subscriptionManager-b429be9d.js":"Iv07","stream":"fnRj","string_decoder":"ES0U","crypto":"mRF4","assert":"DlZn","util":"gfUn","./index-bc4c198a.js":"m1fX","./index-acf3c274.js":"zCut","ethereumjs-util":"BQcR","process":"pBGv"}]},{},[], null)
//# sourceMappingURL=index-5f854499.a53b217e.js.map